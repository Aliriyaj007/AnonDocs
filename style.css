/* Basic reset */
* { box-sizing: border-box; margin: 0; padding: 0; }
html,body { height: 100%; }
body {
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: #0b0f14; color: #eaf0ff; -webkit-font-smoothing:antialiased;
}

/* Theme classes will be applied to documentElement (html) */
:root {
  --bg: #0b0f14;
  --panel: #111422;
  --panel-2: #161821;
  --muted: #9aa3b2;
  --text: #eaf0ff;
  --accent: #4f8cff;
  --page-bg: #ffffff;
  --page-text: #14151a;
  --border: #232833;
  --radius: 10px;
}
html.light {
  --bg: #f4f6fb; --panel: #ffffff; --panel-2:#f1f4fb; --muted:#556274; --text:#10121a; --border:#e6ebf3;
  --page-bg:#ffffff; --page-text:#111;
}
html.colored {
  --bg: #f0fbff; --panel: #ffffff; --panel-2:#f6fbff; --muted:#274c6d; --text:#07304a; --accent:#0077ff; --border:#d9eefc;
  --page-bg:#ffffff; --page-text:#0a1220;
}

body { background: var(--bg); color: var(--text); padding-bottom: 40px; }

/* Topbar */
.topbar {
  position: sticky; top: 0; z-index: 40;
  display:flex; justify-content:space-between; align-items:center;
  padding:12px 16px; gap:12px; background:var(--panel); border-bottom:1px solid var(--border);
}
.left { display:flex; align-items:center; gap:10px; min-width:0; }
.brand { font-weight:700; margin-right:6px; }
.title-input {
  background: transparent; border: 1px solid transparent; color:var(--text);
  padding:6px 10px; border-radius:8px; min-width:160px; width:26vw; max-width:420px;
}
.title-input:focus { outline:none; border-color:var(--border); background:var(--panel-2); }

/* Buttons */
.btn, .small, .icon-btn { border: none; background: transparent; color:var(--muted); padding:8px 10px; border-radius:8px; cursor:pointer; }
.btn:hover, .icon-btn:hover { background: var(--panel-2); color:var(--text); }
.primary { background:var(--accent); color:#fff; padding:8px 12px; border-radius:999px; font-weight:600; }
.badge { font-size:0.85rem; color:var(--muted); border:1px solid var(--border); padding:6px 8px; border-radius:999px; background:transparent; }

/* Toolbar */
.toolbar { display:flex; gap:8px; padding:8px 12px; background:var(--panel); border-bottom:1px solid var(--border); align-items:center; overflow:auto; }
.toolbar select, .toolbar input[type=color] { background:var(--panel-2); color:var(--text); border:1px solid var(--border); padding:6px 8px; border-radius:8px; }
.icon-btn { padding:6px 8px; border-radius:8px; border:1px solid var(--border); background:transparent; }
.upload input { display:none; }
.toolbar-spacer { flex:1; }

/* Layout */
.layout { display:grid; grid-template-columns: 280px 1fr; gap:18px; padding:18px; align-items:start; }
.sidebar { background:var(--panel); border:1px solid var(--border); border-radius:12px; padding:10px; height:calc(100vh - 200px); overflow:auto; }
.sidebar-head, .sidebar-head { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }
.docs-list { display:flex; flex-direction:column; gap:8px; }
.doc-item { padding:10px; border-radius:8px; cursor:pointer; border:1px solid transparent; color:var(--text); background:transparent; }
.doc-item:hover { background:var(--panel-2); }
.doc-item.active { border-color:var(--accent); box-shadow: 0 6px 18px rgba(79,140,255,.06); }

/* Editor / Page */
.main { display:flex; flex-direction:column; align-items:center; }
.page { width: 820px; max-width:95vw; min-height:700px; background:var(--page-bg); color:var(--page-text); margin:8px auto; padding:56px 64px; border-radius:12px; box-shadow:0 20px 50px rgba(2,6,23,.4); }
.editor { min-height:520px; outline:none; font-size:16px; line-height:1.6; color:var(--page-text); }
.editor:empty:before { content: attr(placeholder); color:#9aa3b2; }

/* Footer */
.statusbar { width:100%; max-width:920px; display:flex; justify-content:space-between; color:var(--muted); margin:6px auto 20px; }

/* Modal / Viewer / Toasts */
.modal { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(0,0,0,0.55); z-index:120; }
.modal.hidden { display:none; }
.modal-card { width:min(720px,92vw); background:var(--panel); padding:18px; border-radius:12px; border:1px solid var(--border); box-shadow:0 20px 60px rgba(0,0,0,.6); color:var(--text); }
.form-row { margin:8px 0; }
.row.actions { display:flex; gap:8px; justify-content:flex-end; margin-top:8px; }

/* Viewer */
.viewer { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(2,6,23,0.6); z-index:130; }
.viewer.hidden { display:none; }
.viewer-card { width:min(980px,96vw); max-height:90vh; overflow:auto; background:var(--page-bg); color:var(--page-text); border-radius:10px; padding:16px; }
.viewer-head { display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }

/* Shared list */
.shared-list { display:flex; flex-direction:column; gap:10px; max-height:60vh; overflow:auto; }
.shared-item { display:flex; justify-content:space-between; padding:10px; background:var(--panel-2); border-radius:10px; border:1px solid var(--border); color:var(--text); }

/* Toasts */
.toasts { position:fixed; right:18px; bottom:18px; display:flex; flex-direction:column; gap:8px; z-index:140; }
.toast { background:var(--panel); border:1px solid var(--border); padding:10px 14px; border-radius:8px; color:var(--text); box-shadow:0 8px 24px rgba(0,0,0,.35); }

/* Tooltip */
.tooltip { position:absolute; background:var(--panel); color:var(--muted); padding:8px 10px; border-radius:8px; border:1px solid var(--border); width:220px; transform:translateY(6px); z-index:150; }
.tooltip.hidden { display:none; }

/* Responsive */
@media (max-width: 1000px) {
  .layout { grid-template-columns: 0 1fr; }
  .sidebar { position:fixed; left:10px; top:86px; bottom:12px; transform:translateX(-120%); transition:transform .22s ease; z-index:60; }
  .sidebar.open { transform:translateX(0); }
  .page { width:90vw; padding:36px; }
}
@media (max-width: 560px) {
  .toolbar { overflow:auto; }
  .title-input { width:44vw; }
}
