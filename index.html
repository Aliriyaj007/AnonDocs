<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AnonDocs — Private & Anonymous</title>

  <!-- Quill (rich text editor) -->
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
  <!-- App styles -->
  <link rel="stylesheet" href="style.css">

  <!-- CryptoJS for AES encryption -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
  <!-- Quill JS -->
  <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

  <script src="script.js" defer></script>
</head>
<body>
  <header class="topbar">
    <div class="left">
      <button id="menuToggle" class="icon" title="Toggle sidebar">☰</button>
      <div class="brand">AnonDocs</div>
      <input id="titleInput" class="title" placeholder="Untitled document" title="Click to rename" />
    </div>

    <div class="right">
      <select id="themeSelect" class="control" title="Switch theme">
        <option value="hacker">Hacker (Green)</option>
        <option value="dark">Dark</option>
        <option value="cyber">Cyber Blue</option>
        <option value="light">Light</option>
      </select>

      <select id="fontSelect" class="control" title="Font family">
        <option value="Inter, system-ui, -apple-system, 'Segoe UI', Roboto">Inter</option>
        <option value="Arial, Helvetica, sans-serif">Arial</option>
        <option value="'Fira Code', monospace">Fira Code (Mono)</option>
        <option value="'Source Sans 3', system-ui">Source Sans</option>
        <option value="'Courier New', monospace">Courier New</option>
      </select>

      <button id="newBtn" class="btn" title="New document (Ctrl/Cmd+N)">New</button>
      <button id="saveBtn" class="btn" title="Save (Ctrl/Cmd+S)">Save</button>
      <button id="shareBtn" class="btn primary" title="Share">Share</button>
    </div>
  </header>

  <!-- Rich editor toolbar (Quill) -->
  <div id="toolbar" class="toolbar">
    <select class="ql-font"></select>
    <select class="ql-size"></select>
    <button class="ql-bold" title="Bold"></button>
    <button class="ql-italic" title="Italic"></button>
    <button class="ql-underline" title="Underline"></button>
    <button class="ql-strike" title="Strike"></button>

    <select class="ql-color" title="Text color"></select>
    <select class="ql-background" title="Background"></select>

    <button class="ql-header" value="1" title="H1"></button>
    <button class="ql-header" value="2" title="H2"></button>

    <button class="ql-list" value="ordered" title="Numbered list"></button>
    <button class="ql-list" value="bullet" title="Bulleted list"></button>
    <button class="ql-blockquote" title="Quote"></button>
    <button class="ql-code-block" title="Code block"></button>

    <button class="ql-link" title="Insert link"></button>
    <button class="ql-image" title="Insert image"></button>
    <button class="ql-align" value="" title="Align left"></button>
    <button class="ql-align" value="center" title="Align center"></button>
    <button class="ql-align" value="right" title="Align right"></button>

    <div class="toolbar-spacer"></div>

    <button id="undoBtn" class="btn" title="Undo">↶</button>
    <button id="redoBtn" class="btn" title="Redo">↷</button>

    <button id="exportBtn" class="btn" title="Export JSON backup">Export</button>
    <button id="importBtn" class="btn" title="Import JSON backup">Import</button>
    <button id="printBtn" class="btn" title="Print document">Print</button>
    <button id="linksBtn" class="btn" title="Manage shared links">Shared Links</button>
  </div>

  <div class="layout">
    <aside id="sidebar" class="sidebar">
      <div class="sidebar-head">
        <strong>Documents</strong>
        <div><button id="newSide" class="small" title="New document">+ New</button></div>
      </div>
      <div class="search-wrap">
        <input id="searchInput" placeholder="Search documents..." title="Search saved documents" />
      </div>
      <div id="docsList" class="docs-list" aria-live="polite"></div>
    </aside>

    <main class="main">
      <div id="page" class="page">
        <div id="editor-container">
          <div id="quillEditor"></div>
        </div>
      </div>

      <footer class="statusbar">
        <div id="stats">0 words · 0 chars</div>
        <div id="madeby">Made by Riyajul Ali</div>
      </footer>
    </main>
  </div>

  <!-- Share Modal -->
  <div id="shareModal" class="modal hidden" aria-hidden="true">
    <div class="modal-card">
      <h3>Share document</h3>
      <div class="form-row">
        <label>Expires:
          <select id="shareExpiry">
            <option value="0">Never</option>
            <option value="1">1 day</option>
            <option value="7" selected>7 days</option>
            <option value="30">30 days</option>
          </select>
        </label>
      </div>
      <div class="form-row">
        <label><input id="sharePublic" type="checkbox" /> Public (no password)</label>
      </div>
      <div class="form-row" id="passwordRow">
        <label>Password: <input id="sharePassword" type="password" placeholder="Set password for private link" /></label>
      </div>
      <div class="row actions">
        <button id="generateShareBtn" class="primary">Generate Link</button>
        <button class="ghost" onclick="closeModal('shareModal')">Cancel</button>
      </div>

      <div id="shareResult" class="share-result hidden">
        <label>Share URL</label>
        <input id="shareUrl" readonly />
        <div class="row actions">
          <button id="copyShareBtn" class="small">Copy</button>
          <button class="ghost" onclick="closeModal('shareModal')">Close</button>
        </div>
        <div id="shareMeta" class="meta"></div>
      </div>
    </div>
  </div>

  <!-- Manage shared links modal -->
  <div id="manageModal" class="modal hidden">
    <div class="modal-card">
      <h3>Shared Links</h3>
      <div id="sharedList" class="shared-list"></div>
      <div class="row actions"><button class="ghost" onclick="closeModal('manageModal')">Close</button></div>
    </div>
  </div>

  <!-- Password modal -->
  <div id="passwordModal" class="modal hidden">
    <div class="modal-card">
      <h3>Enter password</h3>
      <div class="form-row">
        <input id="openPassword" type="password" placeholder="Password" />
      </div>
      <div class="row actions">
        <button id="openPwdBtn" class="primary">Open</button>
        <button class="ghost" onclick="closeModal('passwordModal')">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Viewer -->
  <div id="viewer" class="modal hidden">
    <div class="viewer-card">
      <div class="viewer-head">
        <div id="viewerTitle">Shared Document</div>
        <div>
          <button id="viewerSaveBtn" class="small">Save Copy</button>
          <button class="ghost" onclick="closeModal('viewer')">Close</button>
        </div>
      </div>
      <div id="viewerContent" class="viewer-content"></div>
    </div>
  </div>

  <!-- Toasts and tooltip -->
  <div id="toasts" class="toasts"></div>
  <div id="tooltip" class="tooltip hidden"></div>

  <!-- Hidden file inputs -->
  <input id="importFile" type="file" accept="application/json" hidden />
</body>
</html>